-- Tile 2/1/0-- Dates 2012-01-01 - 2012-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -60112525.02837034, 100187541.71394621, -20037508.342789255, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-01-01'::timestamp AND '2012-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/0-- Dates 2013-01-01 - 2013-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -60112525.02837034, 100187541.71394621, -20037508.342789255, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-01-01'::timestamp AND '2013-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/0-- Dates 2014-01-01 - 2014-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -60112525.02837034, 100187541.71394621, -20037508.342789255, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-01-01'::timestamp AND '2014-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/0-- Dates 2015-01-01 - 2015-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -60112525.02837034, 100187541.71394621, -20037508.342789255, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-01-01'::timestamp AND '2015-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/0-- Dates 2016-01-01 - 2016-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -60112525.02837034, 100187541.71394621, -20037508.342789255, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-01-01'::timestamp AND '2016-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/0-- Dates 2017-01-01 - 2017-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -60112525.02837034, 100187541.71394621, -20037508.342789255, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-01-01'::timestamp AND '2017-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/0-- Dates 2018-01-01 - 2018-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -60112525.02837034, 100187541.71394621, -20037508.342789255, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-01-01'::timestamp AND '2018-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/0-- Dates 2012-04-01 - 2012-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -60112525.02837034, 100187541.71394621, -20037508.342789255, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-04-01'::timestamp AND '2012-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/0-- Dates 2013-04-01 - 2013-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -60112525.02837034, 100187541.71394621, -20037508.342789255, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-04-01'::timestamp AND '2013-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/0-- Dates 2014-04-01 - 2014-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -60112525.02837034, 100187541.71394621, -20037508.342789255, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-04-01'::timestamp AND '2014-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/0-- Dates 2015-04-01 - 2015-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -60112525.02837034, 100187541.71394621, -20037508.342789255, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-04-01'::timestamp AND '2015-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/0-- Dates 2016-04-01 - 2016-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -60112525.02837034, 100187541.71394621, -20037508.342789255, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-04-01'::timestamp AND '2016-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/0-- Dates 2017-04-01 - 2017-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -60112525.02837034, 100187541.71394621, -20037508.342789255, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-04-01'::timestamp AND '2017-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/0-- Dates 2018-04-01 - 2018-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -60112525.02837034, 100187541.71394621, -20037508.342789255, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-04-01'::timestamp AND '2018-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/0-- Dates 2012-07-01 - 2012-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -60112525.02837034, 100187541.71394621, -20037508.342789255, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-07-01'::timestamp AND '2012-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/0-- Dates 2013-07-01 - 2013-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -60112525.02837034, 100187541.71394621, -20037508.342789255, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-07-01'::timestamp AND '2013-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/0-- Dates 2014-07-01 - 2014-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -60112525.02837034, 100187541.71394621, -20037508.342789255, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-07-01'::timestamp AND '2014-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/0-- Dates 2015-04-01 - 2015-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -60112525.02837034, 100187541.71394621, -20037508.342789255, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-04-01'::timestamp AND '2015-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/0-- Dates 2016-07-01 - 2016-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -60112525.02837034, 100187541.71394621, -20037508.342789255, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-07-01'::timestamp AND '2016-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/0-- Dates 2017-07-01 - 2017-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -60112525.02837034, 100187541.71394621, -20037508.342789255, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-07-01'::timestamp AND '2017-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/0-- Dates 2018-07-01 - 2018-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -60112525.02837034, 100187541.71394621, -20037508.342789255, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-07-01'::timestamp AND '2018-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/0-- Dates 2012-11-01 - 2012-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -60112525.02837034, 100187541.71394621, -20037508.342789255, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-11-01'::timestamp AND '2012-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/0-- Dates 2013-11-01 - 2013-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -60112525.02837034, 100187541.71394621, -20037508.342789255, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-11-01'::timestamp AND '2013-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/0-- Dates 2014-11-01 - 2014-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -60112525.02837034, 100187541.71394621, -20037508.342789255, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-11-01'::timestamp AND '2014-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/0-- Dates 2015-11-01 - 2015-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -60112525.02837034, 100187541.71394621, -20037508.342789255, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-11-01'::timestamp AND '2015-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/0-- Dates 2016-11-01 - 2016-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -60112525.02837034, 100187541.71394621, -20037508.342789255, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-11-01'::timestamp AND '2016-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/0-- Dates 2017-11-01 - 2017-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -60112525.02837034, 100187541.71394621, -20037508.342789255, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-11-01'::timestamp AND '2017-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/0-- Dates 2018-11-01 - 2018-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -60112525.02837034, 100187541.71394621, -20037508.342789255, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-11-01'::timestamp AND '2018-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/0-- Dates 2012-01-01 - 2012-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -100187541.71384054, 100187541.71394621, -60112525.02837034, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-01-01'::timestamp AND '2012-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/0-- Dates 2013-01-01 - 2013-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -100187541.71384054, 100187541.71394621, -60112525.02837034, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-01-01'::timestamp AND '2013-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/0-- Dates 2014-01-01 - 2014-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -100187541.71384054, 100187541.71394621, -60112525.02837034, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-01-01'::timestamp AND '2014-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/0-- Dates 2015-01-01 - 2015-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -100187541.71384054, 100187541.71394621, -60112525.02837034, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-01-01'::timestamp AND '2015-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/0-- Dates 2016-01-01 - 2016-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -100187541.71384054, 100187541.71394621, -60112525.02837034, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-01-01'::timestamp AND '2016-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/0-- Dates 2017-01-01 - 2017-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -100187541.71384054, 100187541.71394621, -60112525.02837034, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-01-01'::timestamp AND '2017-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/0-- Dates 2018-01-01 - 2018-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -100187541.71384054, 100187541.71394621, -60112525.02837034, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-01-01'::timestamp AND '2018-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/0-- Dates 2012-04-01 - 2012-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -100187541.71384054, 100187541.71394621, -60112525.02837034, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-04-01'::timestamp AND '2012-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/0-- Dates 2013-04-01 - 2013-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -100187541.71384054, 100187541.71394621, -60112525.02837034, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-04-01'::timestamp AND '2013-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/0-- Dates 2014-04-01 - 2014-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -100187541.71384054, 100187541.71394621, -60112525.02837034, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-04-01'::timestamp AND '2014-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/0-- Dates 2015-04-01 - 2015-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -100187541.71384054, 100187541.71394621, -60112525.02837034, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-04-01'::timestamp AND '2015-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/0-- Dates 2016-04-01 - 2016-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -100187541.71384054, 100187541.71394621, -60112525.02837034, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-04-01'::timestamp AND '2016-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/0-- Dates 2017-04-01 - 2017-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -100187541.71384054, 100187541.71394621, -60112525.02837034, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-04-01'::timestamp AND '2017-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/0-- Dates 2018-04-01 - 2018-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -100187541.71384054, 100187541.71394621, -60112525.02837034, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-04-01'::timestamp AND '2018-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/0-- Dates 2012-07-01 - 2012-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -100187541.71384054, 100187541.71394621, -60112525.02837034, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-07-01'::timestamp AND '2012-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/0-- Dates 2013-07-01 - 2013-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -100187541.71384054, 100187541.71394621, -60112525.02837034, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-07-01'::timestamp AND '2013-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/0-- Dates 2014-07-01 - 2014-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -100187541.71384054, 100187541.71394621, -60112525.02837034, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-07-01'::timestamp AND '2014-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/0-- Dates 2015-04-01 - 2015-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -100187541.71384054, 100187541.71394621, -60112525.02837034, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-04-01'::timestamp AND '2015-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/0-- Dates 2016-07-01 - 2016-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -100187541.71384054, 100187541.71394621, -60112525.02837034, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-07-01'::timestamp AND '2016-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/0-- Dates 2017-07-01 - 2017-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -100187541.71384054, 100187541.71394621, -60112525.02837034, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-07-01'::timestamp AND '2017-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/0-- Dates 2018-07-01 - 2018-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -100187541.71384054, 100187541.71394621, -60112525.02837034, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-07-01'::timestamp AND '2018-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/0-- Dates 2012-11-01 - 2012-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -100187541.71384054, 100187541.71394621, -60112525.02837034, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-11-01'::timestamp AND '2012-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/0-- Dates 2013-11-01 - 2013-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -100187541.71384054, 100187541.71394621, -60112525.02837034, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-11-01'::timestamp AND '2013-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/0-- Dates 2014-11-01 - 2014-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -100187541.71384054, 100187541.71394621, -60112525.02837034, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-11-01'::timestamp AND '2014-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/0-- Dates 2015-11-01 - 2015-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -100187541.71384054, 100187541.71394621, -60112525.02837034, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-11-01'::timestamp AND '2015-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/0-- Dates 2016-11-01 - 2016-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -100187541.71384054, 100187541.71394621, -60112525.02837034, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-11-01'::timestamp AND '2016-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/0-- Dates 2017-11-01 - 2017-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -100187541.71384054, 100187541.71394621, -60112525.02837034, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-11-01'::timestamp AND '2017-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/0-- Dates 2018-11-01 - 2018-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -100187541.71384054, 100187541.71394621, -60112525.02837034, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-11-01'::timestamp AND '2018-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/0-- Dates 2012-01-01 - 2012-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -140262560.09866503, 100187541.71394621, -100187541.71384054, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-01-01'::timestamp AND '2012-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/0-- Dates 2013-01-01 - 2013-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -140262560.09866503, 100187541.71394621, -100187541.71384054, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-01-01'::timestamp AND '2013-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/0-- Dates 2014-01-01 - 2014-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -140262560.09866503, 100187541.71394621, -100187541.71384054, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-01-01'::timestamp AND '2014-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/0-- Dates 2015-01-01 - 2015-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -140262560.09866503, 100187541.71394621, -100187541.71384054, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-01-01'::timestamp AND '2015-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/0-- Dates 2016-01-01 - 2016-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -140262560.09866503, 100187541.71394621, -100187541.71384054, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-01-01'::timestamp AND '2016-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/0-- Dates 2017-01-01 - 2017-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -140262560.09866503, 100187541.71394621, -100187541.71384054, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-01-01'::timestamp AND '2017-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/0-- Dates 2018-01-01 - 2018-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -140262560.09866503, 100187541.71394621, -100187541.71384054, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-01-01'::timestamp AND '2018-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/0-- Dates 2012-04-01 - 2012-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -140262560.09866503, 100187541.71394621, -100187541.71384054, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-04-01'::timestamp AND '2012-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/0-- Dates 2013-04-01 - 2013-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -140262560.09866503, 100187541.71394621, -100187541.71384054, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-04-01'::timestamp AND '2013-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/0-- Dates 2014-04-01 - 2014-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -140262560.09866503, 100187541.71394621, -100187541.71384054, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-04-01'::timestamp AND '2014-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/0-- Dates 2015-04-01 - 2015-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -140262560.09866503, 100187541.71394621, -100187541.71384054, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-04-01'::timestamp AND '2015-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/0-- Dates 2016-04-01 - 2016-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -140262560.09866503, 100187541.71394621, -100187541.71384054, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-04-01'::timestamp AND '2016-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/0-- Dates 2017-04-01 - 2017-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -140262560.09866503, 100187541.71394621, -100187541.71384054, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-04-01'::timestamp AND '2017-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/0-- Dates 2018-04-01 - 2018-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -140262560.09866503, 100187541.71394621, -100187541.71384054, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-04-01'::timestamp AND '2018-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/0-- Dates 2012-07-01 - 2012-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -140262560.09866503, 100187541.71394621, -100187541.71384054, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-07-01'::timestamp AND '2012-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/0-- Dates 2013-07-01 - 2013-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -140262560.09866503, 100187541.71394621, -100187541.71384054, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-07-01'::timestamp AND '2013-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/0-- Dates 2014-07-01 - 2014-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -140262560.09866503, 100187541.71394621, -100187541.71384054, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-07-01'::timestamp AND '2014-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/0-- Dates 2015-04-01 - 2015-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -140262560.09866503, 100187541.71394621, -100187541.71384054, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-04-01'::timestamp AND '2015-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/0-- Dates 2016-07-01 - 2016-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -140262560.09866503, 100187541.71394621, -100187541.71384054, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-07-01'::timestamp AND '2016-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/0-- Dates 2017-07-01 - 2017-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -140262560.09866503, 100187541.71394621, -100187541.71384054, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-07-01'::timestamp AND '2017-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/0-- Dates 2018-07-01 - 2018-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -140262560.09866503, 100187541.71394621, -100187541.71384054, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-07-01'::timestamp AND '2018-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/0-- Dates 2012-11-01 - 2012-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -140262560.09866503, 100187541.71394621, -100187541.71384054, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-11-01'::timestamp AND '2012-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/0-- Dates 2013-11-01 - 2013-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -140262560.09866503, 100187541.71394621, -100187541.71384054, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-11-01'::timestamp AND '2013-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/0-- Dates 2014-11-01 - 2014-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -140262560.09866503, 100187541.71394621, -100187541.71384054, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-11-01'::timestamp AND '2014-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/0-- Dates 2015-11-01 - 2015-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -140262560.09866503, 100187541.71394621, -100187541.71384054, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-11-01'::timestamp AND '2015-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/0-- Dates 2016-11-01 - 2016-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -140262560.09866503, 100187541.71394621, -100187541.71384054, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-11-01'::timestamp AND '2016-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/0-- Dates 2017-11-01 - 2017-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -140262560.09866503, 100187541.71394621, -100187541.71384054, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-11-01'::timestamp AND '2017-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/0-- Dates 2018-11-01 - 2018-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(60112525.02836773, -140262560.09866503, 100187541.71394621, -100187541.71384054, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-11-01'::timestamp AND '2018-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/1-- Dates 2012-01-01 - 2012-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -20037508.342789255, 40075016.68557849, -7.081154551613622e-10, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-01-01'::timestamp AND '2012-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/1-- Dates 2013-01-01 - 2013-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -20037508.342789255, 40075016.68557849, -7.081154551613622e-10, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-01-01'::timestamp AND '2013-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/1-- Dates 2014-01-01 - 2014-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -20037508.342789255, 40075016.68557849, -7.081154551613622e-10, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-01-01'::timestamp AND '2014-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/1-- Dates 2015-01-01 - 2015-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -20037508.342789255, 40075016.68557849, -7.081154551613622e-10, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-01-01'::timestamp AND '2015-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/1-- Dates 2016-01-01 - 2016-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -20037508.342789255, 40075016.68557849, -7.081154551613622e-10, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-01-01'::timestamp AND '2016-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/1-- Dates 2017-01-01 - 2017-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -20037508.342789255, 40075016.68557849, -7.081154551613622e-10, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-01-01'::timestamp AND '2017-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/1-- Dates 2018-01-01 - 2018-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -20037508.342789255, 40075016.68557849, -7.081154551613622e-10, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-01-01'::timestamp AND '2018-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/1-- Dates 2012-04-01 - 2012-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -20037508.342789255, 40075016.68557849, -7.081154551613622e-10, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-04-01'::timestamp AND '2012-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/1-- Dates 2013-04-01 - 2013-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -20037508.342789255, 40075016.68557849, -7.081154551613622e-10, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-04-01'::timestamp AND '2013-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/1-- Dates 2014-04-01 - 2014-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -20037508.342789255, 40075016.68557849, -7.081154551613622e-10, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-04-01'::timestamp AND '2014-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/1-- Dates 2015-04-01 - 2015-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -20037508.342789255, 40075016.68557849, -7.081154551613622e-10, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-04-01'::timestamp AND '2015-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/1-- Dates 2016-04-01 - 2016-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -20037508.342789255, 40075016.68557849, -7.081154551613622e-10, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-04-01'::timestamp AND '2016-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/1-- Dates 2017-04-01 - 2017-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -20037508.342789255, 40075016.68557849, -7.081154551613622e-10, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-04-01'::timestamp AND '2017-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/1-- Dates 2018-04-01 - 2018-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -20037508.342789255, 40075016.68557849, -7.081154551613622e-10, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-04-01'::timestamp AND '2018-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/1-- Dates 2012-07-01 - 2012-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -20037508.342789255, 40075016.68557849, -7.081154551613622e-10, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-07-01'::timestamp AND '2012-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/1-- Dates 2013-07-01 - 2013-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -20037508.342789255, 40075016.68557849, -7.081154551613622e-10, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-07-01'::timestamp AND '2013-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/1-- Dates 2014-07-01 - 2014-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -20037508.342789255, 40075016.68557849, -7.081154551613622e-10, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-07-01'::timestamp AND '2014-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/1-- Dates 2015-04-01 - 2015-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -20037508.342789255, 40075016.68557849, -7.081154551613622e-10, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-04-01'::timestamp AND '2015-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/1-- Dates 2016-07-01 - 2016-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -20037508.342789255, 40075016.68557849, -7.081154551613622e-10, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-07-01'::timestamp AND '2016-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/1-- Dates 2017-07-01 - 2017-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -20037508.342789255, 40075016.68557849, -7.081154551613622e-10, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-07-01'::timestamp AND '2017-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/1-- Dates 2018-07-01 - 2018-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -20037508.342789255, 40075016.68557849, -7.081154551613622e-10, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-07-01'::timestamp AND '2018-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/1-- Dates 2012-11-01 - 2012-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -20037508.342789255, 40075016.68557849, -7.081154551613622e-10, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-11-01'::timestamp AND '2012-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/1-- Dates 2013-11-01 - 2013-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -20037508.342789255, 40075016.68557849, -7.081154551613622e-10, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-11-01'::timestamp AND '2013-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/1-- Dates 2014-11-01 - 2014-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -20037508.342789255, 40075016.68557849, -7.081154551613622e-10, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-11-01'::timestamp AND '2014-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/1-- Dates 2015-11-01 - 2015-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -20037508.342789255, 40075016.68557849, -7.081154551613622e-10, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-11-01'::timestamp AND '2015-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/1-- Dates 2016-11-01 - 2016-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -20037508.342789255, 40075016.68557849, -7.081154551613622e-10, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-11-01'::timestamp AND '2016-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/1-- Dates 2017-11-01 - 2017-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -20037508.342789255, 40075016.68557849, -7.081154551613622e-10, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-11-01'::timestamp AND '2017-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/1-- Dates 2018-11-01 - 2018-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -20037508.342789255, 40075016.68557849, -7.081154551613622e-10, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-11-01'::timestamp AND '2018-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/1-- Dates 2012-01-01 - 2012-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -40075016.68557849, 40075016.68557849, -20037508.342789255, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-01-01'::timestamp AND '2012-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/1-- Dates 2013-01-01 - 2013-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -40075016.68557849, 40075016.68557849, -20037508.342789255, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-01-01'::timestamp AND '2013-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/1-- Dates 2014-01-01 - 2014-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -40075016.68557849, 40075016.68557849, -20037508.342789255, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-01-01'::timestamp AND '2014-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/1-- Dates 2015-01-01 - 2015-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -40075016.68557849, 40075016.68557849, -20037508.342789255, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-01-01'::timestamp AND '2015-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/1-- Dates 2016-01-01 - 2016-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -40075016.68557849, 40075016.68557849, -20037508.342789255, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-01-01'::timestamp AND '2016-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/1-- Dates 2017-01-01 - 2017-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -40075016.68557849, 40075016.68557849, -20037508.342789255, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-01-01'::timestamp AND '2017-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/1-- Dates 2018-01-01 - 2018-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -40075016.68557849, 40075016.68557849, -20037508.342789255, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-01-01'::timestamp AND '2018-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/1-- Dates 2012-04-01 - 2012-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -40075016.68557849, 40075016.68557849, -20037508.342789255, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-04-01'::timestamp AND '2012-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/1-- Dates 2013-04-01 - 2013-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -40075016.68557849, 40075016.68557849, -20037508.342789255, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-04-01'::timestamp AND '2013-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/1-- Dates 2014-04-01 - 2014-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -40075016.68557849, 40075016.68557849, -20037508.342789255, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-04-01'::timestamp AND '2014-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/1-- Dates 2015-04-01 - 2015-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -40075016.68557849, 40075016.68557849, -20037508.342789255, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-04-01'::timestamp AND '2015-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/1-- Dates 2016-04-01 - 2016-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -40075016.68557849, 40075016.68557849, -20037508.342789255, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-04-01'::timestamp AND '2016-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/1-- Dates 2017-04-01 - 2017-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -40075016.68557849, 40075016.68557849, -20037508.342789255, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-04-01'::timestamp AND '2017-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/1-- Dates 2018-04-01 - 2018-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -40075016.68557849, 40075016.68557849, -20037508.342789255, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-04-01'::timestamp AND '2018-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/1-- Dates 2012-07-01 - 2012-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -40075016.68557849, 40075016.68557849, -20037508.342789255, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-07-01'::timestamp AND '2012-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/1-- Dates 2013-07-01 - 2013-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -40075016.68557849, 40075016.68557849, -20037508.342789255, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-07-01'::timestamp AND '2013-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/1-- Dates 2014-07-01 - 2014-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -40075016.68557849, 40075016.68557849, -20037508.342789255, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-07-01'::timestamp AND '2014-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/1-- Dates 2015-04-01 - 2015-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -40075016.68557849, 40075016.68557849, -20037508.342789255, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-04-01'::timestamp AND '2015-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/1-- Dates 2016-07-01 - 2016-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -40075016.68557849, 40075016.68557849, -20037508.342789255, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-07-01'::timestamp AND '2016-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/1-- Dates 2017-07-01 - 2017-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -40075016.68557849, 40075016.68557849, -20037508.342789255, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-07-01'::timestamp AND '2017-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/1-- Dates 2018-07-01 - 2018-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -40075016.68557849, 40075016.68557849, -20037508.342789255, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-07-01'::timestamp AND '2018-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/1-- Dates 2012-11-01 - 2012-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -40075016.68557849, 40075016.68557849, -20037508.342789255, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-11-01'::timestamp AND '2012-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/1-- Dates 2013-11-01 - 2013-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -40075016.68557849, 40075016.68557849, -20037508.342789255, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-11-01'::timestamp AND '2013-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/1-- Dates 2014-11-01 - 2014-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -40075016.68557849, 40075016.68557849, -20037508.342789255, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-11-01'::timestamp AND '2014-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/1-- Dates 2015-11-01 - 2015-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -40075016.68557849, 40075016.68557849, -20037508.342789255, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-11-01'::timestamp AND '2015-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/1-- Dates 2016-11-01 - 2016-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -40075016.68557849, 40075016.68557849, -20037508.342789255, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-11-01'::timestamp AND '2016-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/1-- Dates 2017-11-01 - 2017-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -40075016.68557849, 40075016.68557849, -20037508.342789255, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-11-01'::timestamp AND '2017-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/1-- Dates 2018-11-01 - 2018-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -40075016.68557849, 40075016.68557849, -20037508.342789255, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-11-01'::timestamp AND '2018-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/1-- Dates 2012-01-01 - 2012-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -60112525.02837034, 40075016.68557849, -40075016.68557849, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-01-01'::timestamp AND '2012-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/1-- Dates 2013-01-01 - 2013-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -60112525.02837034, 40075016.68557849, -40075016.68557849, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-01-01'::timestamp AND '2013-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/1-- Dates 2014-01-01 - 2014-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -60112525.02837034, 40075016.68557849, -40075016.68557849, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-01-01'::timestamp AND '2014-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/1-- Dates 2015-01-01 - 2015-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -60112525.02837034, 40075016.68557849, -40075016.68557849, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-01-01'::timestamp AND '2015-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/1-- Dates 2016-01-01 - 2016-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -60112525.02837034, 40075016.68557849, -40075016.68557849, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-01-01'::timestamp AND '2016-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/1-- Dates 2017-01-01 - 2017-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -60112525.02837034, 40075016.68557849, -40075016.68557849, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-01-01'::timestamp AND '2017-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/1-- Dates 2018-01-01 - 2018-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -60112525.02837034, 40075016.68557849, -40075016.68557849, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-01-01'::timestamp AND '2018-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/1-- Dates 2012-04-01 - 2012-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -60112525.02837034, 40075016.68557849, -40075016.68557849, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-04-01'::timestamp AND '2012-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/1-- Dates 2013-04-01 - 2013-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -60112525.02837034, 40075016.68557849, -40075016.68557849, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-04-01'::timestamp AND '2013-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/1-- Dates 2014-04-01 - 2014-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -60112525.02837034, 40075016.68557849, -40075016.68557849, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-04-01'::timestamp AND '2014-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/1-- Dates 2015-04-01 - 2015-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -60112525.02837034, 40075016.68557849, -40075016.68557849, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-04-01'::timestamp AND '2015-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/1-- Dates 2016-04-01 - 2016-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -60112525.02837034, 40075016.68557849, -40075016.68557849, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-04-01'::timestamp AND '2016-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/1-- Dates 2017-04-01 - 2017-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -60112525.02837034, 40075016.68557849, -40075016.68557849, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-04-01'::timestamp AND '2017-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/1-- Dates 2018-04-01 - 2018-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -60112525.02837034, 40075016.68557849, -40075016.68557849, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-04-01'::timestamp AND '2018-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/1-- Dates 2012-07-01 - 2012-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -60112525.02837034, 40075016.68557849, -40075016.68557849, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-07-01'::timestamp AND '2012-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/1-- Dates 2013-07-01 - 2013-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -60112525.02837034, 40075016.68557849, -40075016.68557849, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-07-01'::timestamp AND '2013-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/1-- Dates 2014-07-01 - 2014-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -60112525.02837034, 40075016.68557849, -40075016.68557849, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-07-01'::timestamp AND '2014-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/1-- Dates 2015-04-01 - 2015-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -60112525.02837034, 40075016.68557849, -40075016.68557849, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-04-01'::timestamp AND '2015-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/1-- Dates 2016-07-01 - 2016-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -60112525.02837034, 40075016.68557849, -40075016.68557849, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-07-01'::timestamp AND '2016-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/1-- Dates 2017-07-01 - 2017-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -60112525.02837034, 40075016.68557849, -40075016.68557849, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-07-01'::timestamp AND '2017-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/1-- Dates 2018-07-01 - 2018-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -60112525.02837034, 40075016.68557849, -40075016.68557849, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-07-01'::timestamp AND '2018-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/1-- Dates 2012-11-01 - 2012-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -60112525.02837034, 40075016.68557849, -40075016.68557849, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-11-01'::timestamp AND '2012-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/1-- Dates 2013-11-01 - 2013-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -60112525.02837034, 40075016.68557849, -40075016.68557849, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-11-01'::timestamp AND '2013-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/1-- Dates 2014-11-01 - 2014-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -60112525.02837034, 40075016.68557849, -40075016.68557849, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-11-01'::timestamp AND '2014-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/1-- Dates 2015-11-01 - 2015-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -60112525.02837034, 40075016.68557849, -40075016.68557849, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-11-01'::timestamp AND '2015-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/1-- Dates 2016-11-01 - 2016-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -60112525.02837034, 40075016.68557849, -40075016.68557849, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-11-01'::timestamp AND '2016-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/1-- Dates 2017-11-01 - 2017-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -60112525.02837034, 40075016.68557849, -40075016.68557849, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-11-01'::timestamp AND '2017-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/1-- Dates 2018-11-01 - 2018-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(20037508.342789244, -60112525.02837034, 40075016.68557849, -40075016.68557849, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-11-01'::timestamp AND '2018-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/2-- Dates 2012-01-01 - 2012-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -7.081154551613622e-10, 10018754.171394622, 10018754.171394626, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-01-01'::timestamp AND '2012-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/2-- Dates 2013-01-01 - 2013-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -7.081154551613622e-10, 10018754.171394622, 10018754.171394626, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-01-01'::timestamp AND '2013-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/2-- Dates 2014-01-01 - 2014-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -7.081154551613622e-10, 10018754.171394622, 10018754.171394626, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-01-01'::timestamp AND '2014-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/2-- Dates 2015-01-01 - 2015-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -7.081154551613622e-10, 10018754.171394622, 10018754.171394626, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-01-01'::timestamp AND '2015-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/2-- Dates 2016-01-01 - 2016-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -7.081154551613622e-10, 10018754.171394622, 10018754.171394626, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-01-01'::timestamp AND '2016-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/2-- Dates 2017-01-01 - 2017-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -7.081154551613622e-10, 10018754.171394622, 10018754.171394626, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-01-01'::timestamp AND '2017-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/2-- Dates 2018-01-01 - 2018-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -7.081154551613622e-10, 10018754.171394622, 10018754.171394626, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-01-01'::timestamp AND '2018-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/2-- Dates 2012-04-01 - 2012-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -7.081154551613622e-10, 10018754.171394622, 10018754.171394626, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-04-01'::timestamp AND '2012-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/2-- Dates 2013-04-01 - 2013-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -7.081154551613622e-10, 10018754.171394622, 10018754.171394626, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-04-01'::timestamp AND '2013-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/2-- Dates 2014-04-01 - 2014-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -7.081154551613622e-10, 10018754.171394622, 10018754.171394626, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-04-01'::timestamp AND '2014-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/2-- Dates 2015-04-01 - 2015-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -7.081154551613622e-10, 10018754.171394622, 10018754.171394626, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-04-01'::timestamp AND '2015-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/2-- Dates 2016-04-01 - 2016-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -7.081154551613622e-10, 10018754.171394622, 10018754.171394626, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-04-01'::timestamp AND '2016-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/2-- Dates 2017-04-01 - 2017-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -7.081154551613622e-10, 10018754.171394622, 10018754.171394626, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-04-01'::timestamp AND '2017-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/2-- Dates 2018-04-01 - 2018-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -7.081154551613622e-10, 10018754.171394622, 10018754.171394626, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-04-01'::timestamp AND '2018-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/2-- Dates 2012-07-01 - 2012-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -7.081154551613622e-10, 10018754.171394622, 10018754.171394626, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-07-01'::timestamp AND '2012-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/2-- Dates 2013-07-01 - 2013-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -7.081154551613622e-10, 10018754.171394622, 10018754.171394626, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-07-01'::timestamp AND '2013-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/2-- Dates 2014-07-01 - 2014-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -7.081154551613622e-10, 10018754.171394622, 10018754.171394626, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-07-01'::timestamp AND '2014-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/2-- Dates 2015-04-01 - 2015-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -7.081154551613622e-10, 10018754.171394622, 10018754.171394626, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-04-01'::timestamp AND '2015-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/2-- Dates 2016-07-01 - 2016-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -7.081154551613622e-10, 10018754.171394622, 10018754.171394626, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-07-01'::timestamp AND '2016-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/2-- Dates 2017-07-01 - 2017-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -7.081154551613622e-10, 10018754.171394622, 10018754.171394626, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-07-01'::timestamp AND '2017-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/2-- Dates 2018-07-01 - 2018-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -7.081154551613622e-10, 10018754.171394622, 10018754.171394626, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-07-01'::timestamp AND '2018-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/2-- Dates 2012-11-01 - 2012-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -7.081154551613622e-10, 10018754.171394622, 10018754.171394626, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-11-01'::timestamp AND '2012-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/2-- Dates 2013-11-01 - 2013-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -7.081154551613622e-10, 10018754.171394622, 10018754.171394626, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-11-01'::timestamp AND '2013-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/2-- Dates 2014-11-01 - 2014-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -7.081154551613622e-10, 10018754.171394622, 10018754.171394626, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-11-01'::timestamp AND '2014-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/2-- Dates 2015-11-01 - 2015-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -7.081154551613622e-10, 10018754.171394622, 10018754.171394626, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-11-01'::timestamp AND '2015-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/2-- Dates 2016-11-01 - 2016-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -7.081154551613622e-10, 10018754.171394622, 10018754.171394626, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-11-01'::timestamp AND '2016-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/2-- Dates 2017-11-01 - 2017-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -7.081154551613622e-10, 10018754.171394622, 10018754.171394626, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-11-01'::timestamp AND '2017-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/1/2-- Dates 2018-11-01 - 2018-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -7.081154551613622e-10, 10018754.171394622, 10018754.171394626, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-11-01'::timestamp AND '2018-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/2-- Dates 2012-01-01 - 2012-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -10018754.171394624, 10018754.171394622, -7.081154551613622e-10, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-01-01'::timestamp AND '2012-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/2-- Dates 2013-01-01 - 2013-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -10018754.171394624, 10018754.171394622, -7.081154551613622e-10, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-01-01'::timestamp AND '2013-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/2-- Dates 2014-01-01 - 2014-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -10018754.171394624, 10018754.171394622, -7.081154551613622e-10, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-01-01'::timestamp AND '2014-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/2-- Dates 2015-01-01 - 2015-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -10018754.171394624, 10018754.171394622, -7.081154551613622e-10, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-01-01'::timestamp AND '2015-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/2-- Dates 2016-01-01 - 2016-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -10018754.171394624, 10018754.171394622, -7.081154551613622e-10, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-01-01'::timestamp AND '2016-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/2-- Dates 2017-01-01 - 2017-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -10018754.171394624, 10018754.171394622, -7.081154551613622e-10, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-01-01'::timestamp AND '2017-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/2-- Dates 2018-01-01 - 2018-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -10018754.171394624, 10018754.171394622, -7.081154551613622e-10, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-01-01'::timestamp AND '2018-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/2-- Dates 2012-04-01 - 2012-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -10018754.171394624, 10018754.171394622, -7.081154551613622e-10, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-04-01'::timestamp AND '2012-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/2-- Dates 2013-04-01 - 2013-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -10018754.171394624, 10018754.171394622, -7.081154551613622e-10, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-04-01'::timestamp AND '2013-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/2-- Dates 2014-04-01 - 2014-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -10018754.171394624, 10018754.171394622, -7.081154551613622e-10, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-04-01'::timestamp AND '2014-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/2-- Dates 2015-04-01 - 2015-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -10018754.171394624, 10018754.171394622, -7.081154551613622e-10, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-04-01'::timestamp AND '2015-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/2-- Dates 2016-04-01 - 2016-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -10018754.171394624, 10018754.171394622, -7.081154551613622e-10, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-04-01'::timestamp AND '2016-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/2-- Dates 2017-04-01 - 2017-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -10018754.171394624, 10018754.171394622, -7.081154551613622e-10, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-04-01'::timestamp AND '2017-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/2-- Dates 2018-04-01 - 2018-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -10018754.171394624, 10018754.171394622, -7.081154551613622e-10, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-04-01'::timestamp AND '2018-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/2-- Dates 2012-07-01 - 2012-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -10018754.171394624, 10018754.171394622, -7.081154551613622e-10, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-07-01'::timestamp AND '2012-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/2-- Dates 2013-07-01 - 2013-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -10018754.171394624, 10018754.171394622, -7.081154551613622e-10, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-07-01'::timestamp AND '2013-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/2-- Dates 2014-07-01 - 2014-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -10018754.171394624, 10018754.171394622, -7.081154551613622e-10, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-07-01'::timestamp AND '2014-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/2-- Dates 2015-04-01 - 2015-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -10018754.171394624, 10018754.171394622, -7.081154551613622e-10, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-04-01'::timestamp AND '2015-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/2-- Dates 2016-07-01 - 2016-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -10018754.171394624, 10018754.171394622, -7.081154551613622e-10, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-07-01'::timestamp AND '2016-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/2-- Dates 2017-07-01 - 2017-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -10018754.171394624, 10018754.171394622, -7.081154551613622e-10, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-07-01'::timestamp AND '2017-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/2-- Dates 2018-07-01 - 2018-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -10018754.171394624, 10018754.171394622, -7.081154551613622e-10, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-07-01'::timestamp AND '2018-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/2-- Dates 2012-11-01 - 2012-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -10018754.171394624, 10018754.171394622, -7.081154551613622e-10, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-11-01'::timestamp AND '2012-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/2-- Dates 2013-11-01 - 2013-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -10018754.171394624, 10018754.171394622, -7.081154551613622e-10, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-11-01'::timestamp AND '2013-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/2-- Dates 2014-11-01 - 2014-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -10018754.171394624, 10018754.171394622, -7.081154551613622e-10, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-11-01'::timestamp AND '2014-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/2-- Dates 2015-11-01 - 2015-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -10018754.171394624, 10018754.171394622, -7.081154551613622e-10, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-11-01'::timestamp AND '2015-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/2-- Dates 2016-11-01 - 2016-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -10018754.171394624, 10018754.171394622, -7.081154551613622e-10, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-11-01'::timestamp AND '2016-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/2-- Dates 2017-11-01 - 2017-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -10018754.171394624, 10018754.171394622, -7.081154551613622e-10, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-11-01'::timestamp AND '2017-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/2/2-- Dates 2018-11-01 - 2018-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -10018754.171394624, 10018754.171394622, -7.081154551613622e-10, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-11-01'::timestamp AND '2018-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/2-- Dates 2012-01-01 - 2012-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -20037508.342789255, 10018754.171394622, -10018754.171394624, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-01-01'::timestamp AND '2012-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/2-- Dates 2013-01-01 - 2013-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -20037508.342789255, 10018754.171394622, -10018754.171394624, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-01-01'::timestamp AND '2013-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/2-- Dates 2014-01-01 - 2014-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -20037508.342789255, 10018754.171394622, -10018754.171394624, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-01-01'::timestamp AND '2014-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/2-- Dates 2015-01-01 - 2015-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -20037508.342789255, 10018754.171394622, -10018754.171394624, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-01-01'::timestamp AND '2015-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/2-- Dates 2016-01-01 - 2016-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -20037508.342789255, 10018754.171394622, -10018754.171394624, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-01-01'::timestamp AND '2016-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/2-- Dates 2017-01-01 - 2017-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -20037508.342789255, 10018754.171394622, -10018754.171394624, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-01-01'::timestamp AND '2017-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/2-- Dates 2018-01-01 - 2018-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -20037508.342789255, 10018754.171394622, -10018754.171394624, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-01-01'::timestamp AND '2018-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/2-- Dates 2012-04-01 - 2012-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -20037508.342789255, 10018754.171394622, -10018754.171394624, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-04-01'::timestamp AND '2012-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/2-- Dates 2013-04-01 - 2013-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -20037508.342789255, 10018754.171394622, -10018754.171394624, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-04-01'::timestamp AND '2013-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/2-- Dates 2014-04-01 - 2014-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -20037508.342789255, 10018754.171394622, -10018754.171394624, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-04-01'::timestamp AND '2014-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/2-- Dates 2015-04-01 - 2015-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -20037508.342789255, 10018754.171394622, -10018754.171394624, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-04-01'::timestamp AND '2015-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/2-- Dates 2016-04-01 - 2016-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -20037508.342789255, 10018754.171394622, -10018754.171394624, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-04-01'::timestamp AND '2016-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/2-- Dates 2017-04-01 - 2017-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -20037508.342789255, 10018754.171394622, -10018754.171394624, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-04-01'::timestamp AND '2017-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/2-- Dates 2018-04-01 - 2018-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -20037508.342789255, 10018754.171394622, -10018754.171394624, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-04-01'::timestamp AND '2018-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/2-- Dates 2012-07-01 - 2012-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -20037508.342789255, 10018754.171394622, -10018754.171394624, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-07-01'::timestamp AND '2012-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/2-- Dates 2013-07-01 - 2013-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -20037508.342789255, 10018754.171394622, -10018754.171394624, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-07-01'::timestamp AND '2013-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/2-- Dates 2014-07-01 - 2014-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -20037508.342789255, 10018754.171394622, -10018754.171394624, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-07-01'::timestamp AND '2014-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/2-- Dates 2015-04-01 - 2015-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -20037508.342789255, 10018754.171394622, -10018754.171394624, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-04-01'::timestamp AND '2015-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/2-- Dates 2016-07-01 - 2016-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -20037508.342789255, 10018754.171394622, -10018754.171394624, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-07-01'::timestamp AND '2016-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/2-- Dates 2017-07-01 - 2017-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -20037508.342789255, 10018754.171394622, -10018754.171394624, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-07-01'::timestamp AND '2017-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/2-- Dates 2018-07-01 - 2018-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -20037508.342789255, 10018754.171394622, -10018754.171394624, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-07-01'::timestamp AND '2018-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/2-- Dates 2012-11-01 - 2012-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -20037508.342789255, 10018754.171394622, -10018754.171394624, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-11-01'::timestamp AND '2012-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/2-- Dates 2013-11-01 - 2013-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -20037508.342789255, 10018754.171394622, -10018754.171394624, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-11-01'::timestamp AND '2013-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/2-- Dates 2014-11-01 - 2014-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -20037508.342789255, 10018754.171394622, -10018754.171394624, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-11-01'::timestamp AND '2014-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/2-- Dates 2015-11-01 - 2015-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -20037508.342789255, 10018754.171394622, -10018754.171394624, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-11-01'::timestamp AND '2015-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/2-- Dates 2016-11-01 - 2016-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -20037508.342789255, 10018754.171394622, -10018754.171394624, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-11-01'::timestamp AND '2016-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/2-- Dates 2017-11-01 - 2017-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -20037508.342789255, 10018754.171394622, -10018754.171394624, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-11-01'::timestamp AND '2017-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 2/3/2-- Dates 2018-11-01 - 2018-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(0.0, -20037508.342789255, 10018754.171394622, -10018754.171394624, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-11-01'::timestamp AND '2018-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
