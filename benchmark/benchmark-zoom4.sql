-- Tile 4/8/6-- Dates 2012-01-01 - 2012-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 14401959.121379776, -16906647.66422842, 15028131.257091932, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-01-01'::timestamp AND '2012-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/6-- Dates 2013-01-01 - 2013-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 14401959.121379776, -16906647.66422842, 15028131.257091932, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-01-01'::timestamp AND '2013-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/6-- Dates 2014-01-01 - 2014-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 14401959.121379776, -16906647.66422842, 15028131.257091932, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-01-01'::timestamp AND '2014-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/6-- Dates 2015-01-01 - 2015-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 14401959.121379776, -16906647.66422842, 15028131.257091932, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-01-01'::timestamp AND '2015-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/6-- Dates 2016-01-01 - 2016-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 14401959.121379776, -16906647.66422842, 15028131.257091932, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-01-01'::timestamp AND '2016-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/6-- Dates 2017-01-01 - 2017-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 14401959.121379776, -16906647.66422842, 15028131.257091932, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-01-01'::timestamp AND '2017-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/6-- Dates 2018-01-01 - 2018-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 14401959.121379776, -16906647.66422842, 15028131.257091932, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-01-01'::timestamp AND '2018-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/6-- Dates 2012-04-01 - 2012-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 14401959.121379776, -16906647.66422842, 15028131.257091932, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-04-01'::timestamp AND '2012-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/6-- Dates 2013-04-01 - 2013-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 14401959.121379776, -16906647.66422842, 15028131.257091932, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-04-01'::timestamp AND '2013-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/6-- Dates 2014-04-01 - 2014-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 14401959.121379776, -16906647.66422842, 15028131.257091932, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-04-01'::timestamp AND '2014-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/6-- Dates 2015-04-01 - 2015-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 14401959.121379776, -16906647.66422842, 15028131.257091932, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-04-01'::timestamp AND '2015-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/6-- Dates 2016-04-01 - 2016-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 14401959.121379776, -16906647.66422842, 15028131.257091932, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-04-01'::timestamp AND '2016-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/6-- Dates 2017-04-01 - 2017-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 14401959.121379776, -16906647.66422842, 15028131.257091932, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-04-01'::timestamp AND '2017-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/6-- Dates 2018-04-01 - 2018-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 14401959.121379776, -16906647.66422842, 15028131.257091932, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-04-01'::timestamp AND '2018-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/6-- Dates 2012-07-01 - 2012-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 14401959.121379776, -16906647.66422842, 15028131.257091932, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-07-01'::timestamp AND '2012-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/6-- Dates 2013-07-01 - 2013-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 14401959.121379776, -16906647.66422842, 15028131.257091932, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-07-01'::timestamp AND '2013-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/6-- Dates 2014-07-01 - 2014-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 14401959.121379776, -16906647.66422842, 15028131.257091932, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-07-01'::timestamp AND '2014-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/6-- Dates 2015-04-01 - 2015-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 14401959.121379776, -16906647.66422842, 15028131.257091932, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-04-01'::timestamp AND '2015-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/6-- Dates 2016-07-01 - 2016-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 14401959.121379776, -16906647.66422842, 15028131.257091932, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-07-01'::timestamp AND '2016-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/6-- Dates 2017-07-01 - 2017-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 14401959.121379776, -16906647.66422842, 15028131.257091932, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-07-01'::timestamp AND '2017-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/6-- Dates 2018-07-01 - 2018-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 14401959.121379776, -16906647.66422842, 15028131.257091932, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-07-01'::timestamp AND '2018-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/6-- Dates 2012-11-01 - 2012-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 14401959.121379776, -16906647.66422842, 15028131.257091932, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-11-01'::timestamp AND '2012-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/6-- Dates 2013-11-01 - 2013-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 14401959.121379776, -16906647.66422842, 15028131.257091932, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-11-01'::timestamp AND '2013-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/6-- Dates 2014-11-01 - 2014-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 14401959.121379776, -16906647.66422842, 15028131.257091932, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-11-01'::timestamp AND '2014-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/6-- Dates 2015-11-01 - 2015-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 14401959.121379776, -16906647.66422842, 15028131.257091932, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-11-01'::timestamp AND '2015-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/6-- Dates 2016-11-01 - 2016-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 14401959.121379776, -16906647.66422842, 15028131.257091932, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-11-01'::timestamp AND '2016-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/6-- Dates 2017-11-01 - 2017-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 14401959.121379776, -16906647.66422842, 15028131.257091932, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-11-01'::timestamp AND '2017-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/6-- Dates 2018-11-01 - 2018-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 14401959.121379776, -16906647.66422842, 15028131.257091932, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-11-01'::timestamp AND '2018-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/6-- Dates 2012-01-01 - 2012-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 13775786.9856676, -16906647.66422842, 14401959.121379776, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-01-01'::timestamp AND '2012-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/6-- Dates 2013-01-01 - 2013-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 13775786.9856676, -16906647.66422842, 14401959.121379776, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-01-01'::timestamp AND '2013-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/6-- Dates 2014-01-01 - 2014-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 13775786.9856676, -16906647.66422842, 14401959.121379776, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-01-01'::timestamp AND '2014-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/6-- Dates 2015-01-01 - 2015-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 13775786.9856676, -16906647.66422842, 14401959.121379776, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-01-01'::timestamp AND '2015-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/6-- Dates 2016-01-01 - 2016-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 13775786.9856676, -16906647.66422842, 14401959.121379776, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-01-01'::timestamp AND '2016-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/6-- Dates 2017-01-01 - 2017-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 13775786.9856676, -16906647.66422842, 14401959.121379776, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-01-01'::timestamp AND '2017-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/6-- Dates 2018-01-01 - 2018-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 13775786.9856676, -16906647.66422842, 14401959.121379776, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-01-01'::timestamp AND '2018-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/6-- Dates 2012-04-01 - 2012-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 13775786.9856676, -16906647.66422842, 14401959.121379776, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-04-01'::timestamp AND '2012-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/6-- Dates 2013-04-01 - 2013-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 13775786.9856676, -16906647.66422842, 14401959.121379776, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-04-01'::timestamp AND '2013-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/6-- Dates 2014-04-01 - 2014-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 13775786.9856676, -16906647.66422842, 14401959.121379776, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-04-01'::timestamp AND '2014-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/6-- Dates 2015-04-01 - 2015-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 13775786.9856676, -16906647.66422842, 14401959.121379776, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-04-01'::timestamp AND '2015-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/6-- Dates 2016-04-01 - 2016-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 13775786.9856676, -16906647.66422842, 14401959.121379776, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-04-01'::timestamp AND '2016-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/6-- Dates 2017-04-01 - 2017-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 13775786.9856676, -16906647.66422842, 14401959.121379776, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-04-01'::timestamp AND '2017-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/6-- Dates 2018-04-01 - 2018-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 13775786.9856676, -16906647.66422842, 14401959.121379776, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-04-01'::timestamp AND '2018-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/6-- Dates 2012-07-01 - 2012-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 13775786.9856676, -16906647.66422842, 14401959.121379776, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-07-01'::timestamp AND '2012-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/6-- Dates 2013-07-01 - 2013-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 13775786.9856676, -16906647.66422842, 14401959.121379776, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-07-01'::timestamp AND '2013-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/6-- Dates 2014-07-01 - 2014-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 13775786.9856676, -16906647.66422842, 14401959.121379776, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-07-01'::timestamp AND '2014-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/6-- Dates 2015-04-01 - 2015-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 13775786.9856676, -16906647.66422842, 14401959.121379776, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-04-01'::timestamp AND '2015-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/6-- Dates 2016-07-01 - 2016-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 13775786.9856676, -16906647.66422842, 14401959.121379776, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-07-01'::timestamp AND '2016-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/6-- Dates 2017-07-01 - 2017-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 13775786.9856676, -16906647.66422842, 14401959.121379776, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-07-01'::timestamp AND '2017-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/6-- Dates 2018-07-01 - 2018-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 13775786.9856676, -16906647.66422842, 14401959.121379776, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-07-01'::timestamp AND '2018-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/6-- Dates 2012-11-01 - 2012-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 13775786.9856676, -16906647.66422842, 14401959.121379776, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-11-01'::timestamp AND '2012-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/6-- Dates 2013-11-01 - 2013-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 13775786.9856676, -16906647.66422842, 14401959.121379776, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-11-01'::timestamp AND '2013-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/6-- Dates 2014-11-01 - 2014-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 13775786.9856676, -16906647.66422842, 14401959.121379776, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-11-01'::timestamp AND '2014-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/6-- Dates 2015-11-01 - 2015-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 13775786.9856676, -16906647.66422842, 14401959.121379776, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-11-01'::timestamp AND '2015-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/6-- Dates 2016-11-01 - 2016-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 13775786.9856676, -16906647.66422842, 14401959.121379776, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-11-01'::timestamp AND '2016-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/6-- Dates 2017-11-01 - 2017-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 13775786.9856676, -16906647.66422842, 14401959.121379776, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-11-01'::timestamp AND '2017-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/6-- Dates 2018-11-01 - 2018-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 13775786.9856676, -16906647.66422842, 14401959.121379776, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-11-01'::timestamp AND '2018-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/6-- Dates 2012-01-01 - 2012-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 13149614.849955443, -16906647.66422842, 13775786.9856676, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-01-01'::timestamp AND '2012-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/6-- Dates 2013-01-01 - 2013-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 13149614.849955443, -16906647.66422842, 13775786.9856676, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-01-01'::timestamp AND '2013-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/6-- Dates 2014-01-01 - 2014-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 13149614.849955443, -16906647.66422842, 13775786.9856676, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-01-01'::timestamp AND '2014-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/6-- Dates 2015-01-01 - 2015-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 13149614.849955443, -16906647.66422842, 13775786.9856676, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-01-01'::timestamp AND '2015-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/6-- Dates 2016-01-01 - 2016-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 13149614.849955443, -16906647.66422842, 13775786.9856676, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-01-01'::timestamp AND '2016-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/6-- Dates 2017-01-01 - 2017-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 13149614.849955443, -16906647.66422842, 13775786.9856676, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-01-01'::timestamp AND '2017-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/6-- Dates 2018-01-01 - 2018-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 13149614.849955443, -16906647.66422842, 13775786.9856676, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-01-01'::timestamp AND '2018-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/6-- Dates 2012-04-01 - 2012-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 13149614.849955443, -16906647.66422842, 13775786.9856676, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-04-01'::timestamp AND '2012-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/6-- Dates 2013-04-01 - 2013-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 13149614.849955443, -16906647.66422842, 13775786.9856676, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-04-01'::timestamp AND '2013-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/6-- Dates 2014-04-01 - 2014-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 13149614.849955443, -16906647.66422842, 13775786.9856676, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-04-01'::timestamp AND '2014-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/6-- Dates 2015-04-01 - 2015-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 13149614.849955443, -16906647.66422842, 13775786.9856676, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-04-01'::timestamp AND '2015-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/6-- Dates 2016-04-01 - 2016-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 13149614.849955443, -16906647.66422842, 13775786.9856676, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-04-01'::timestamp AND '2016-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/6-- Dates 2017-04-01 - 2017-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 13149614.849955443, -16906647.66422842, 13775786.9856676, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-04-01'::timestamp AND '2017-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/6-- Dates 2018-04-01 - 2018-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 13149614.849955443, -16906647.66422842, 13775786.9856676, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-04-01'::timestamp AND '2018-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/6-- Dates 2012-07-01 - 2012-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 13149614.849955443, -16906647.66422842, 13775786.9856676, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-07-01'::timestamp AND '2012-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/6-- Dates 2013-07-01 - 2013-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 13149614.849955443, -16906647.66422842, 13775786.9856676, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-07-01'::timestamp AND '2013-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/6-- Dates 2014-07-01 - 2014-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 13149614.849955443, -16906647.66422842, 13775786.9856676, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-07-01'::timestamp AND '2014-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/6-- Dates 2015-04-01 - 2015-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 13149614.849955443, -16906647.66422842, 13775786.9856676, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-04-01'::timestamp AND '2015-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/6-- Dates 2016-07-01 - 2016-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 13149614.849955443, -16906647.66422842, 13775786.9856676, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-07-01'::timestamp AND '2016-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/6-- Dates 2017-07-01 - 2017-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 13149614.849955443, -16906647.66422842, 13775786.9856676, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-07-01'::timestamp AND '2017-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/6-- Dates 2018-07-01 - 2018-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 13149614.849955443, -16906647.66422842, 13775786.9856676, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-07-01'::timestamp AND '2018-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/6-- Dates 2012-11-01 - 2012-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 13149614.849955443, -16906647.66422842, 13775786.9856676, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-11-01'::timestamp AND '2012-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/6-- Dates 2013-11-01 - 2013-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 13149614.849955443, -16906647.66422842, 13775786.9856676, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-11-01'::timestamp AND '2013-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/6-- Dates 2014-11-01 - 2014-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 13149614.849955443, -16906647.66422842, 13775786.9856676, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-11-01'::timestamp AND '2014-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/6-- Dates 2015-11-01 - 2015-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 13149614.849955443, -16906647.66422842, 13775786.9856676, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-11-01'::timestamp AND '2015-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/6-- Dates 2016-11-01 - 2016-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 13149614.849955443, -16906647.66422842, 13775786.9856676, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-11-01'::timestamp AND '2016-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/6-- Dates 2017-11-01 - 2017-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 13149614.849955443, -16906647.66422842, 13775786.9856676, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-11-01'::timestamp AND '2017-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/6-- Dates 2018-11-01 - 2018-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-17532819.799940586, 13149614.849955443, -16906647.66422842, 13775786.9856676, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-11-01'::timestamp AND '2018-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/7-- Dates 2012-01-01 - 2012-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 17219733.732084516, -18472078.003508832, 17532819.799940594, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-01-01'::timestamp AND '2012-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/7-- Dates 2013-01-01 - 2013-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 17219733.732084516, -18472078.003508832, 17532819.799940594, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-01-01'::timestamp AND '2013-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/7-- Dates 2014-01-01 - 2014-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 17219733.732084516, -18472078.003508832, 17532819.799940594, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-01-01'::timestamp AND '2014-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/7-- Dates 2015-01-01 - 2015-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 17219733.732084516, -18472078.003508832, 17532819.799940594, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-01-01'::timestamp AND '2015-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/7-- Dates 2016-01-01 - 2016-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 17219733.732084516, -18472078.003508832, 17532819.799940594, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-01-01'::timestamp AND '2016-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/7-- Dates 2017-01-01 - 2017-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 17219733.732084516, -18472078.003508832, 17532819.799940594, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-01-01'::timestamp AND '2017-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/7-- Dates 2018-01-01 - 2018-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 17219733.732084516, -18472078.003508832, 17532819.799940594, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-01-01'::timestamp AND '2018-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/7-- Dates 2012-04-01 - 2012-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 17219733.732084516, -18472078.003508832, 17532819.799940594, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-04-01'::timestamp AND '2012-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/7-- Dates 2013-04-01 - 2013-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 17219733.732084516, -18472078.003508832, 17532819.799940594, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-04-01'::timestamp AND '2013-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/7-- Dates 2014-04-01 - 2014-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 17219733.732084516, -18472078.003508832, 17532819.799940594, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-04-01'::timestamp AND '2014-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/7-- Dates 2015-04-01 - 2015-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 17219733.732084516, -18472078.003508832, 17532819.799940594, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-04-01'::timestamp AND '2015-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/7-- Dates 2016-04-01 - 2016-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 17219733.732084516, -18472078.003508832, 17532819.799940594, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-04-01'::timestamp AND '2016-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/7-- Dates 2017-04-01 - 2017-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 17219733.732084516, -18472078.003508832, 17532819.799940594, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-04-01'::timestamp AND '2017-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/7-- Dates 2018-04-01 - 2018-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 17219733.732084516, -18472078.003508832, 17532819.799940594, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-04-01'::timestamp AND '2018-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/7-- Dates 2012-07-01 - 2012-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 17219733.732084516, -18472078.003508832, 17532819.799940594, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-07-01'::timestamp AND '2012-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/7-- Dates 2013-07-01 - 2013-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 17219733.732084516, -18472078.003508832, 17532819.799940594, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-07-01'::timestamp AND '2013-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/7-- Dates 2014-07-01 - 2014-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 17219733.732084516, -18472078.003508832, 17532819.799940594, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-07-01'::timestamp AND '2014-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/7-- Dates 2015-04-01 - 2015-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 17219733.732084516, -18472078.003508832, 17532819.799940594, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-04-01'::timestamp AND '2015-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/7-- Dates 2016-07-01 - 2016-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 17219733.732084516, -18472078.003508832, 17532819.799940594, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-07-01'::timestamp AND '2016-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/7-- Dates 2017-07-01 - 2017-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 17219733.732084516, -18472078.003508832, 17532819.799940594, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-07-01'::timestamp AND '2017-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/7-- Dates 2018-07-01 - 2018-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 17219733.732084516, -18472078.003508832, 17532819.799940594, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-07-01'::timestamp AND '2018-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/7-- Dates 2012-11-01 - 2012-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 17219733.732084516, -18472078.003508832, 17532819.799940594, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-11-01'::timestamp AND '2012-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/7-- Dates 2013-11-01 - 2013-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 17219733.732084516, -18472078.003508832, 17532819.799940594, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-11-01'::timestamp AND '2013-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/7-- Dates 2014-11-01 - 2014-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 17219733.732084516, -18472078.003508832, 17532819.799940594, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-11-01'::timestamp AND '2014-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/7-- Dates 2015-11-01 - 2015-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 17219733.732084516, -18472078.003508832, 17532819.799940594, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-11-01'::timestamp AND '2015-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/7-- Dates 2016-11-01 - 2016-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 17219733.732084516, -18472078.003508832, 17532819.799940594, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-11-01'::timestamp AND '2016-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/7-- Dates 2017-11-01 - 2017-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 17219733.732084516, -18472078.003508832, 17532819.799940594, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-11-01'::timestamp AND '2017-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/7-- Dates 2018-11-01 - 2018-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 17219733.732084516, -18472078.003508832, 17532819.799940594, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-11-01'::timestamp AND '2018-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/7-- Dates 2012-01-01 - 2012-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 16906647.66422843, -18472078.003508832, 17219733.732084516, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-01-01'::timestamp AND '2012-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/7-- Dates 2013-01-01 - 2013-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 16906647.66422843, -18472078.003508832, 17219733.732084516, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-01-01'::timestamp AND '2013-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/7-- Dates 2014-01-01 - 2014-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 16906647.66422843, -18472078.003508832, 17219733.732084516, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-01-01'::timestamp AND '2014-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/7-- Dates 2015-01-01 - 2015-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 16906647.66422843, -18472078.003508832, 17219733.732084516, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-01-01'::timestamp AND '2015-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/7-- Dates 2016-01-01 - 2016-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 16906647.66422843, -18472078.003508832, 17219733.732084516, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-01-01'::timestamp AND '2016-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/7-- Dates 2017-01-01 - 2017-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 16906647.66422843, -18472078.003508832, 17219733.732084516, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-01-01'::timestamp AND '2017-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/7-- Dates 2018-01-01 - 2018-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 16906647.66422843, -18472078.003508832, 17219733.732084516, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-01-01'::timestamp AND '2018-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/7-- Dates 2012-04-01 - 2012-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 16906647.66422843, -18472078.003508832, 17219733.732084516, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-04-01'::timestamp AND '2012-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/7-- Dates 2013-04-01 - 2013-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 16906647.66422843, -18472078.003508832, 17219733.732084516, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-04-01'::timestamp AND '2013-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/7-- Dates 2014-04-01 - 2014-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 16906647.66422843, -18472078.003508832, 17219733.732084516, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-04-01'::timestamp AND '2014-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/7-- Dates 2015-04-01 - 2015-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 16906647.66422843, -18472078.003508832, 17219733.732084516, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-04-01'::timestamp AND '2015-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/7-- Dates 2016-04-01 - 2016-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 16906647.66422843, -18472078.003508832, 17219733.732084516, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-04-01'::timestamp AND '2016-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/7-- Dates 2017-04-01 - 2017-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 16906647.66422843, -18472078.003508832, 17219733.732084516, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-04-01'::timestamp AND '2017-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/7-- Dates 2018-04-01 - 2018-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 16906647.66422843, -18472078.003508832, 17219733.732084516, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-04-01'::timestamp AND '2018-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/7-- Dates 2012-07-01 - 2012-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 16906647.66422843, -18472078.003508832, 17219733.732084516, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-07-01'::timestamp AND '2012-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/7-- Dates 2013-07-01 - 2013-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 16906647.66422843, -18472078.003508832, 17219733.732084516, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-07-01'::timestamp AND '2013-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/7-- Dates 2014-07-01 - 2014-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 16906647.66422843, -18472078.003508832, 17219733.732084516, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-07-01'::timestamp AND '2014-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/7-- Dates 2015-04-01 - 2015-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 16906647.66422843, -18472078.003508832, 17219733.732084516, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-04-01'::timestamp AND '2015-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/7-- Dates 2016-07-01 - 2016-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 16906647.66422843, -18472078.003508832, 17219733.732084516, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-07-01'::timestamp AND '2016-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/7-- Dates 2017-07-01 - 2017-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 16906647.66422843, -18472078.003508832, 17219733.732084516, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-07-01'::timestamp AND '2017-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/7-- Dates 2018-07-01 - 2018-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 16906647.66422843, -18472078.003508832, 17219733.732084516, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-07-01'::timestamp AND '2018-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/7-- Dates 2012-11-01 - 2012-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 16906647.66422843, -18472078.003508832, 17219733.732084516, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-11-01'::timestamp AND '2012-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/7-- Dates 2013-11-01 - 2013-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 16906647.66422843, -18472078.003508832, 17219733.732084516, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-11-01'::timestamp AND '2013-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/7-- Dates 2014-11-01 - 2014-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 16906647.66422843, -18472078.003508832, 17219733.732084516, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-11-01'::timestamp AND '2014-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/7-- Dates 2015-11-01 - 2015-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 16906647.66422843, -18472078.003508832, 17219733.732084516, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-11-01'::timestamp AND '2015-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/7-- Dates 2016-11-01 - 2016-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 16906647.66422843, -18472078.003508832, 17219733.732084516, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-11-01'::timestamp AND '2016-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/7-- Dates 2017-11-01 - 2017-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 16906647.66422843, -18472078.003508832, 17219733.732084516, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-11-01'::timestamp AND '2017-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/7-- Dates 2018-11-01 - 2018-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 16906647.66422843, -18472078.003508832, 17219733.732084516, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-11-01'::timestamp AND '2018-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/7-- Dates 2012-01-01 - 2012-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 16593561.596372342, -18472078.003508832, 16906647.66422843, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-01-01'::timestamp AND '2012-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/7-- Dates 2013-01-01 - 2013-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 16593561.596372342, -18472078.003508832, 16906647.66422843, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-01-01'::timestamp AND '2013-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/7-- Dates 2014-01-01 - 2014-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 16593561.596372342, -18472078.003508832, 16906647.66422843, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-01-01'::timestamp AND '2014-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/7-- Dates 2015-01-01 - 2015-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 16593561.596372342, -18472078.003508832, 16906647.66422843, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-01-01'::timestamp AND '2015-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/7-- Dates 2016-01-01 - 2016-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 16593561.596372342, -18472078.003508832, 16906647.66422843, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-01-01'::timestamp AND '2016-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/7-- Dates 2017-01-01 - 2017-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 16593561.596372342, -18472078.003508832, 16906647.66422843, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-01-01'::timestamp AND '2017-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/7-- Dates 2018-01-01 - 2018-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 16593561.596372342, -18472078.003508832, 16906647.66422843, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-01-01'::timestamp AND '2018-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/7-- Dates 2012-04-01 - 2012-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 16593561.596372342, -18472078.003508832, 16906647.66422843, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-04-01'::timestamp AND '2012-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/7-- Dates 2013-04-01 - 2013-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 16593561.596372342, -18472078.003508832, 16906647.66422843, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-04-01'::timestamp AND '2013-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/7-- Dates 2014-04-01 - 2014-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 16593561.596372342, -18472078.003508832, 16906647.66422843, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-04-01'::timestamp AND '2014-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/7-- Dates 2015-04-01 - 2015-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 16593561.596372342, -18472078.003508832, 16906647.66422843, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-04-01'::timestamp AND '2015-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/7-- Dates 2016-04-01 - 2016-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 16593561.596372342, -18472078.003508832, 16906647.66422843, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-04-01'::timestamp AND '2016-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/7-- Dates 2017-04-01 - 2017-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 16593561.596372342, -18472078.003508832, 16906647.66422843, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-04-01'::timestamp AND '2017-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/7-- Dates 2018-04-01 - 2018-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 16593561.596372342, -18472078.003508832, 16906647.66422843, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-04-01'::timestamp AND '2018-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/7-- Dates 2012-07-01 - 2012-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 16593561.596372342, -18472078.003508832, 16906647.66422843, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-07-01'::timestamp AND '2012-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/7-- Dates 2013-07-01 - 2013-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 16593561.596372342, -18472078.003508832, 16906647.66422843, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-07-01'::timestamp AND '2013-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/7-- Dates 2014-07-01 - 2014-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 16593561.596372342, -18472078.003508832, 16906647.66422843, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-07-01'::timestamp AND '2014-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/7-- Dates 2015-04-01 - 2015-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 16593561.596372342, -18472078.003508832, 16906647.66422843, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-04-01'::timestamp AND '2015-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/7-- Dates 2016-07-01 - 2016-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 16593561.596372342, -18472078.003508832, 16906647.66422843, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-07-01'::timestamp AND '2016-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/7-- Dates 2017-07-01 - 2017-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 16593561.596372342, -18472078.003508832, 16906647.66422843, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-07-01'::timestamp AND '2017-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/7-- Dates 2018-07-01 - 2018-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 16593561.596372342, -18472078.003508832, 16906647.66422843, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-07-01'::timestamp AND '2018-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/7-- Dates 2012-11-01 - 2012-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 16593561.596372342, -18472078.003508832, 16906647.66422843, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-11-01'::timestamp AND '2012-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/7-- Dates 2013-11-01 - 2013-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 16593561.596372342, -18472078.003508832, 16906647.66422843, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-11-01'::timestamp AND '2013-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/7-- Dates 2014-11-01 - 2014-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 16593561.596372342, -18472078.003508832, 16906647.66422843, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-11-01'::timestamp AND '2014-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/7-- Dates 2015-11-01 - 2015-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 16593561.596372342, -18472078.003508832, 16906647.66422843, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-11-01'::timestamp AND '2015-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/7-- Dates 2016-11-01 - 2016-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 16593561.596372342, -18472078.003508832, 16906647.66422843, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-11-01'::timestamp AND '2016-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/7-- Dates 2017-11-01 - 2017-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 16593561.596372342, -18472078.003508832, 16906647.66422843, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-11-01'::timestamp AND '2017-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/7-- Dates 2018-11-01 - 2018-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-18785164.071364917, 16593561.596372342, -18472078.003508832, 16906647.66422843, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-11-01'::timestamp AND '2018-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/8-- Dates 2012-01-01 - 2012-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18628621.037436854, -19254793.173149038, 18785164.07136491, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-01-01'::timestamp AND '2012-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/8-- Dates 2013-01-01 - 2013-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18628621.037436854, -19254793.173149038, 18785164.07136491, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-01-01'::timestamp AND '2013-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/8-- Dates 2014-01-01 - 2014-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18628621.037436854, -19254793.173149038, 18785164.07136491, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-01-01'::timestamp AND '2014-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/8-- Dates 2015-01-01 - 2015-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18628621.037436854, -19254793.173149038, 18785164.07136491, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-01-01'::timestamp AND '2015-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/8-- Dates 2016-01-01 - 2016-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18628621.037436854, -19254793.173149038, 18785164.07136491, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-01-01'::timestamp AND '2016-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/8-- Dates 2017-01-01 - 2017-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18628621.037436854, -19254793.173149038, 18785164.07136491, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-01-01'::timestamp AND '2017-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/8-- Dates 2018-01-01 - 2018-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18628621.037436854, -19254793.173149038, 18785164.07136491, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-01-01'::timestamp AND '2018-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/8-- Dates 2012-04-01 - 2012-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18628621.037436854, -19254793.173149038, 18785164.07136491, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-04-01'::timestamp AND '2012-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/8-- Dates 2013-04-01 - 2013-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18628621.037436854, -19254793.173149038, 18785164.07136491, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-04-01'::timestamp AND '2013-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/8-- Dates 2014-04-01 - 2014-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18628621.037436854, -19254793.173149038, 18785164.07136491, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-04-01'::timestamp AND '2014-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/8-- Dates 2015-04-01 - 2015-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18628621.037436854, -19254793.173149038, 18785164.07136491, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-04-01'::timestamp AND '2015-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/8-- Dates 2016-04-01 - 2016-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18628621.037436854, -19254793.173149038, 18785164.07136491, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-04-01'::timestamp AND '2016-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/8-- Dates 2017-04-01 - 2017-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18628621.037436854, -19254793.173149038, 18785164.07136491, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-04-01'::timestamp AND '2017-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/8-- Dates 2018-04-01 - 2018-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18628621.037436854, -19254793.173149038, 18785164.07136491, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-04-01'::timestamp AND '2018-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/8-- Dates 2012-07-01 - 2012-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18628621.037436854, -19254793.173149038, 18785164.07136491, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-07-01'::timestamp AND '2012-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/8-- Dates 2013-07-01 - 2013-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18628621.037436854, -19254793.173149038, 18785164.07136491, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-07-01'::timestamp AND '2013-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/8-- Dates 2014-07-01 - 2014-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18628621.037436854, -19254793.173149038, 18785164.07136491, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-07-01'::timestamp AND '2014-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/8-- Dates 2015-04-01 - 2015-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18628621.037436854, -19254793.173149038, 18785164.07136491, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-04-01'::timestamp AND '2015-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/8-- Dates 2016-07-01 - 2016-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18628621.037436854, -19254793.173149038, 18785164.07136491, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-07-01'::timestamp AND '2016-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/8-- Dates 2017-07-01 - 2017-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18628621.037436854, -19254793.173149038, 18785164.07136491, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-07-01'::timestamp AND '2017-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/8-- Dates 2018-07-01 - 2018-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18628621.037436854, -19254793.173149038, 18785164.07136491, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-07-01'::timestamp AND '2018-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/8-- Dates 2012-11-01 - 2012-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18628621.037436854, -19254793.173149038, 18785164.07136491, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-11-01'::timestamp AND '2012-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/8-- Dates 2013-11-01 - 2013-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18628621.037436854, -19254793.173149038, 18785164.07136491, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-11-01'::timestamp AND '2013-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/8-- Dates 2014-11-01 - 2014-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18628621.037436854, -19254793.173149038, 18785164.07136491, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-11-01'::timestamp AND '2014-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/8-- Dates 2015-11-01 - 2015-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18628621.037436854, -19254793.173149038, 18785164.07136491, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-11-01'::timestamp AND '2015-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/8-- Dates 2016-11-01 - 2016-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18628621.037436854, -19254793.173149038, 18785164.07136491, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-11-01'::timestamp AND '2016-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/8-- Dates 2017-11-01 - 2017-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18628621.037436854, -19254793.173149038, 18785164.07136491, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-11-01'::timestamp AND '2017-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/8/8-- Dates 2018-11-01 - 2018-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18628621.037436854, -19254793.173149038, 18785164.07136491, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-11-01'::timestamp AND '2018-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/8-- Dates 2012-01-01 - 2012-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18472078.00350881, -19254793.173149038, 18628621.037436854, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-01-01'::timestamp AND '2012-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/8-- Dates 2013-01-01 - 2013-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18472078.00350881, -19254793.173149038, 18628621.037436854, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-01-01'::timestamp AND '2013-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/8-- Dates 2014-01-01 - 2014-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18472078.00350881, -19254793.173149038, 18628621.037436854, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-01-01'::timestamp AND '2014-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/8-- Dates 2015-01-01 - 2015-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18472078.00350881, -19254793.173149038, 18628621.037436854, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-01-01'::timestamp AND '2015-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/8-- Dates 2016-01-01 - 2016-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18472078.00350881, -19254793.173149038, 18628621.037436854, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-01-01'::timestamp AND '2016-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/8-- Dates 2017-01-01 - 2017-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18472078.00350881, -19254793.173149038, 18628621.037436854, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-01-01'::timestamp AND '2017-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/8-- Dates 2018-01-01 - 2018-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18472078.00350881, -19254793.173149038, 18628621.037436854, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-01-01'::timestamp AND '2018-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/8-- Dates 2012-04-01 - 2012-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18472078.00350881, -19254793.173149038, 18628621.037436854, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-04-01'::timestamp AND '2012-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/8-- Dates 2013-04-01 - 2013-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18472078.00350881, -19254793.173149038, 18628621.037436854, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-04-01'::timestamp AND '2013-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/8-- Dates 2014-04-01 - 2014-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18472078.00350881, -19254793.173149038, 18628621.037436854, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-04-01'::timestamp AND '2014-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/8-- Dates 2015-04-01 - 2015-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18472078.00350881, -19254793.173149038, 18628621.037436854, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-04-01'::timestamp AND '2015-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/8-- Dates 2016-04-01 - 2016-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18472078.00350881, -19254793.173149038, 18628621.037436854, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-04-01'::timestamp AND '2016-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/8-- Dates 2017-04-01 - 2017-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18472078.00350881, -19254793.173149038, 18628621.037436854, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-04-01'::timestamp AND '2017-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/8-- Dates 2018-04-01 - 2018-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18472078.00350881, -19254793.173149038, 18628621.037436854, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-04-01'::timestamp AND '2018-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/8-- Dates 2012-07-01 - 2012-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18472078.00350881, -19254793.173149038, 18628621.037436854, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-07-01'::timestamp AND '2012-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/8-- Dates 2013-07-01 - 2013-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18472078.00350881, -19254793.173149038, 18628621.037436854, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-07-01'::timestamp AND '2013-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/8-- Dates 2014-07-01 - 2014-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18472078.00350881, -19254793.173149038, 18628621.037436854, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-07-01'::timestamp AND '2014-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/8-- Dates 2015-04-01 - 2015-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18472078.00350881, -19254793.173149038, 18628621.037436854, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-04-01'::timestamp AND '2015-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/8-- Dates 2016-07-01 - 2016-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18472078.00350881, -19254793.173149038, 18628621.037436854, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-07-01'::timestamp AND '2016-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/8-- Dates 2017-07-01 - 2017-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18472078.00350881, -19254793.173149038, 18628621.037436854, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-07-01'::timestamp AND '2017-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/8-- Dates 2018-07-01 - 2018-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18472078.00350881, -19254793.173149038, 18628621.037436854, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-07-01'::timestamp AND '2018-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/8-- Dates 2012-11-01 - 2012-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18472078.00350881, -19254793.173149038, 18628621.037436854, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-11-01'::timestamp AND '2012-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/8-- Dates 2013-11-01 - 2013-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18472078.00350881, -19254793.173149038, 18628621.037436854, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-11-01'::timestamp AND '2013-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/8-- Dates 2014-11-01 - 2014-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18472078.00350881, -19254793.173149038, 18628621.037436854, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-11-01'::timestamp AND '2014-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/8-- Dates 2015-11-01 - 2015-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18472078.00350881, -19254793.173149038, 18628621.037436854, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-11-01'::timestamp AND '2015-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/8-- Dates 2016-11-01 - 2016-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18472078.00350881, -19254793.173149038, 18628621.037436854, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-11-01'::timestamp AND '2016-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/8-- Dates 2017-11-01 - 2017-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18472078.00350881, -19254793.173149038, 18628621.037436854, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-11-01'::timestamp AND '2017-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/9/8-- Dates 2018-11-01 - 2018-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18472078.00350881, -19254793.173149038, 18628621.037436854, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-11-01'::timestamp AND '2018-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/8-- Dates 2012-01-01 - 2012-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18315534.9695808, -19254793.173149038, 18472078.00350881, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-01-01'::timestamp AND '2012-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/8-- Dates 2013-01-01 - 2013-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18315534.9695808, -19254793.173149038, 18472078.00350881, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-01-01'::timestamp AND '2013-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/8-- Dates 2014-01-01 - 2014-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18315534.9695808, -19254793.173149038, 18472078.00350881, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-01-01'::timestamp AND '2014-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/8-- Dates 2015-01-01 - 2015-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18315534.9695808, -19254793.173149038, 18472078.00350881, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-01-01'::timestamp AND '2015-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/8-- Dates 2016-01-01 - 2016-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18315534.9695808, -19254793.173149038, 18472078.00350881, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-01-01'::timestamp AND '2016-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/8-- Dates 2017-01-01 - 2017-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18315534.9695808, -19254793.173149038, 18472078.00350881, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-01-01'::timestamp AND '2017-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/8-- Dates 2018-01-01 - 2018-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18315534.9695808, -19254793.173149038, 18472078.00350881, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-01-01'::timestamp AND '2018-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/8-- Dates 2012-04-01 - 2012-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18315534.9695808, -19254793.173149038, 18472078.00350881, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-04-01'::timestamp AND '2012-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/8-- Dates 2013-04-01 - 2013-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18315534.9695808, -19254793.173149038, 18472078.00350881, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-04-01'::timestamp AND '2013-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/8-- Dates 2014-04-01 - 2014-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18315534.9695808, -19254793.173149038, 18472078.00350881, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-04-01'::timestamp AND '2014-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/8-- Dates 2015-04-01 - 2015-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18315534.9695808, -19254793.173149038, 18472078.00350881, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-04-01'::timestamp AND '2015-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/8-- Dates 2016-04-01 - 2016-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18315534.9695808, -19254793.173149038, 18472078.00350881, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-04-01'::timestamp AND '2016-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/8-- Dates 2017-04-01 - 2017-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18315534.9695808, -19254793.173149038, 18472078.00350881, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-04-01'::timestamp AND '2017-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/8-- Dates 2018-04-01 - 2018-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18315534.9695808, -19254793.173149038, 18472078.00350881, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-04-01'::timestamp AND '2018-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/8-- Dates 2012-07-01 - 2012-04-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18315534.9695808, -19254793.173149038, 18472078.00350881, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-07-01'::timestamp AND '2012-04-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/8-- Dates 2013-07-01 - 2013-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18315534.9695808, -19254793.173149038, 18472078.00350881, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-07-01'::timestamp AND '2013-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/8-- Dates 2014-07-01 - 2014-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18315534.9695808, -19254793.173149038, 18472078.00350881, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-07-01'::timestamp AND '2014-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/8-- Dates 2015-04-01 - 2015-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18315534.9695808, -19254793.173149038, 18472078.00350881, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-04-01'::timestamp AND '2015-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/8-- Dates 2016-07-01 - 2016-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18315534.9695808, -19254793.173149038, 18472078.00350881, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-07-01'::timestamp AND '2016-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/8-- Dates 2017-07-01 - 2017-01-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18315534.9695808, -19254793.173149038, 18472078.00350881, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-07-01'::timestamp AND '2017-01-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/8-- Dates 2018-07-01 - 2018-07-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18315534.9695808, -19254793.173149038, 18472078.00350881, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-07-01'::timestamp AND '2018-07-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/8-- Dates 2012-11-01 - 2012-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18315534.9695808, -19254793.173149038, 18472078.00350881, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2012-11-01'::timestamp AND '2012-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/8-- Dates 2013-11-01 - 2013-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18315534.9695808, -19254793.173149038, 18472078.00350881, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2013-11-01'::timestamp AND '2013-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/8-- Dates 2014-11-01 - 2014-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18315534.9695808, -19254793.173149038, 18472078.00350881, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2014-11-01'::timestamp AND '2014-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/8-- Dates 2015-11-01 - 2015-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18315534.9695808, -19254793.173149038, 18472078.00350881, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2015-11-01'::timestamp AND '2015-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/8-- Dates 2016-11-01 - 2016-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18315534.9695808, -19254793.173149038, 18472078.00350881, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2016-11-01'::timestamp AND '2016-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/8-- Dates 2017-11-01 - 2017-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18315534.9695808, -19254793.173149038, 18472078.00350881, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2017-11-01'::timestamp AND '2017-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
-- Tile 4/10/8-- Dates 2018-11-01 - 2018-11-07
WITH bounds AS ( SELECT ST_MakeEnvelope(-19411336.20707708, 18315534.9695808, -19254793.173149038, 18472078.00350881, 3857) AS geom), mvtgeom AS ( SELECT ST_AsMVTGeom(t.geom_wm, bounds.geom::box2d) AS geom, bright_ti4, bright_ti5 FROM viirs.v20200224 t, bounds WHERE ST_Intersects(t.geom_wm, bounds.geom) AND acq_date BETWEEN '2018-11-01'::timestamp AND '2018-11-07'::timestamp), mvtgroup AS ( SELECT geom, count(*) as count, sum(bright_ti4) as bright_ti4, sum(bright_ti5) as bright_ti5 FROM mvtgeom GROUP BY geom ) SELECT ST_AsMVT(mvtgroup.*) FROM mvtgroup;
